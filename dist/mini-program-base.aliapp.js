!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("mipp"),require("mipp-ali")):"function"==typeof define&&define.amd?define(["exports","mipp","mipp-ali"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).miniProgramBase={},t.mipp,t.mippAli)}(this,(function(t,e,n){"use strict";var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function o(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function i(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function a(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.aom=function(){return this},function(t,e,n,r){var o,i=arguments.length,u=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(u=(i<3?o(u):i>3?o(e,n,u):o(e,n))||u);i>3&&u&&Object.defineProperty(e,n,u)}([n.method,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype","function"==typeof(i="undefined"!=typeof IComponent&&IComponent)?i:Object)],e.prototype,"aom",null),e}(n.ComponentBase),f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var s=function(t){var e={exports:{}};return t(e,e.exports),e.exports}((function(t,e){var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",i="[object Array]",u="[object Boolean]",a="[object Date]",c="[object Error]",s="[object Function]",l="[object Map]",p="[object Number]",h="[object Object]",d="[object Promise]",y="[object RegExp]",v="[object Set]",b="[object String]",_="[object Symbol]",g="[object WeakMap]",m="[object ArrayBuffer]",j="[object DataView]",w=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[o]=P[i]=P[m]=P[u]=P[j]=P[a]=P[c]=P[s]=P[l]=P[p]=P[h]=P[y]=P[v]=P[b]=P[g]=!1;var A="object"==typeof f&&f&&f.Object===Object&&f,z="object"==typeof self&&self&&self.Object===Object&&self,M=A||z||Function("return this")(),S=e&&!e.nodeType&&e,x=S&&t&&!t.nodeType&&t,k=x&&x.exports===S,C=k&&A.process,E=function(){try{return C&&C.binding&&C.binding("util")}catch(t){}}(),B=E&&E.isTypedArray;function T(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function R(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function F(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var U,I,L,$=Array.prototype,D=Function.prototype,W=Object.prototype,q=M["__core-js_shared__"],G=D.toString,N=W.hasOwnProperty,V=(U=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",H=W.toString,J=RegExp("^"+G.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=k?M.Buffer:void 0,Q=M.Symbol,X=M.Uint8Array,Y=W.propertyIsEnumerable,Z=$.splice,tt=Q?Q.toStringTag:void 0,et=Object.getOwnPropertySymbols,nt=K?K.isBuffer:void 0,rt=(I=Object.keys,L=Object,function(t){return I(L(t))}),ot=Et(M,"DataView"),it=Et(M,"Map"),ut=Et(M,"Promise"),at=Et(M,"Set"),ct=Et(M,"WeakMap"),ft=Et(Object,"create"),st=Ft(ot),lt=Ft(it),pt=Ft(ut),ht=Ft(at),dt=Ft(ct),yt=Q?Q.prototype:void 0,vt=yt?yt.valueOf:void 0;function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function gt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function mt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new gt;++e<n;)this.add(t[e])}function jt(t){var e=this.__data__=new _t(t);this.size=e.size}function wt(t,e){var n=Lt(t),r=!n&&It(t),o=!n&&!r&&$t(t),i=!n&&!r&&!o&&Nt(t),u=n||r||o||i,a=u?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var f in t)!e&&!N.call(t,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Rt(f,c))||a.push(f);return a}function Ot(t,e){for(var n=t.length;n--;)if(Ut(t[n][0],e))return n;return-1}function Pt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":tt&&tt in Object(t)?function(t){var e=N.call(t,tt),n=t[tt];try{t[tt]=void 0;var r=!0}catch(t){}var o=H.call(t);r&&(e?t[tt]=n:delete t[tt]);return o}(t):function(t){return H.call(t)}(t)}function At(t){return Gt(t)&&Pt(t)==o}function zt(t,e,n,r,f){return t===e||(null==t||null==e||!Gt(t)&&!Gt(e)?t!=t&&e!=e:function(t,e,n,r,f,s){var d=Lt(t),g=Lt(e),w=d?i:Tt(t),O=g?i:Tt(e),P=(w=w==o?h:w)==h,A=(O=O==o?h:O)==h,z=w==O;if(z&&$t(t)){if(!$t(e))return!1;d=!0,P=!1}if(z&&!P)return s||(s=new jt),d||Nt(t)?xt(t,e,n,r,f,s):function(t,e,n,r,o,i,f){switch(n){case j:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case m:return!(t.byteLength!=e.byteLength||!i(new X(t),new X(e)));case u:case a:case p:return Ut(+t,+e);case c:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case l:var s=R;case v:var h=1&r;if(s||(s=F),t.size!=e.size&&!h)return!1;var d=f.get(t);if(d)return d==e;r|=2,f.set(t,e);var g=xt(s(t),s(e),r,o,i,f);return f.delete(t),g;case _:if(vt)return vt.call(t)==vt.call(e)}return!1}(t,e,w,n,r,f,s);if(!(1&n)){var M=P&&N.call(t,"__wrapped__"),S=A&&N.call(e,"__wrapped__");if(M||S){var x=M?t.value():t,k=S?e.value():e;return s||(s=new jt),f(x,k,n,r,s)}}if(!z)return!1;return s||(s=new jt),function(t,e,n,r,o,i){var u=1&n,a=kt(t),c=a.length,f=kt(e).length;if(c!=f&&!u)return!1;var s=c;for(;s--;){var l=a[s];if(!(u?l in e:N.call(e,l)))return!1}var p=i.get(t);if(p&&i.get(e))return p==e;var h=!0;i.set(t,e),i.set(e,t);var d=u;for(;++s<c;){var y=t[l=a[s]],v=e[l];if(r)var b=u?r(v,y,l,e,t,i):r(y,v,l,t,e,i);if(!(void 0===b?y===v||o(y,v,n,r,i):b)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var _=t.constructor,g=e.constructor;_==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g||(h=!1)}return i.delete(t),i.delete(e),h}(t,e,n,r,f,s)}(t,e,n,r,zt,f))}function Mt(t){return!(!qt(t)||function(t){return!!V&&V in t}(t))&&(Dt(t)?J:w).test(Ft(t))}function St(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||W,e!==r)return rt(t);var e,n,r,o=[];for(var i in Object(t))N.call(t,i)&&"constructor"!=i&&o.push(i);return o}function xt(t,e,n,r,o,i){var u=1&n,a=t.length,c=e.length;if(a!=c&&!(u&&c>a))return!1;var f=i.get(t);if(f&&i.get(e))return f==e;var s=-1,l=!0,p=2&n?new mt:void 0;for(i.set(t,e),i.set(e,t);++s<a;){var h=t[s],d=e[s];if(r)var y=u?r(d,h,s,e,t,i):r(h,d,s,t,e,i);if(void 0!==y){if(y)continue;l=!1;break}if(p){if(!T(e,(function(t,e){if(u=e,!p.has(u)&&(h===t||o(h,t,n,r,i)))return p.push(e);var u}))){l=!1;break}}else if(h!==d&&!o(h,d,n,r,i)){l=!1;break}}return i.delete(t),i.delete(e),l}function kt(t){return function(t,e,n){var r=e(t);return Lt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Vt,Bt)}function Ct(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Et(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Mt(n)?n:void 0}bt.prototype.clear=function(){this.__data__=ft?ft(null):{},this.size=0},bt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bt.prototype.get=function(t){var e=this.__data__;if(ft){var r=e[t];return r===n?void 0:r}return N.call(e,t)?e[t]:void 0},bt.prototype.has=function(t){var e=this.__data__;return ft?void 0!==e[t]:N.call(e,t)},bt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ft&&void 0===e?n:e,this},_t.prototype.clear=function(){this.__data__=[],this.size=0},_t.prototype.delete=function(t){var e=this.__data__,n=Ot(e,t);return!(n<0)&&(n==e.length-1?e.pop():Z.call(e,n,1),--this.size,!0)},_t.prototype.get=function(t){var e=this.__data__,n=Ot(e,t);return n<0?void 0:e[n][1]},_t.prototype.has=function(t){return Ot(this.__data__,t)>-1},_t.prototype.set=function(t,e){var n=this.__data__,r=Ot(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},gt.prototype.clear=function(){this.size=0,this.__data__={hash:new bt,map:new(it||_t),string:new bt}},gt.prototype.delete=function(t){var e=Ct(this,t).delete(t);return this.size-=e?1:0,e},gt.prototype.get=function(t){return Ct(this,t).get(t)},gt.prototype.has=function(t){return Ct(this,t).has(t)},gt.prototype.set=function(t,e){var n=Ct(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},mt.prototype.add=mt.prototype.push=function(t){return this.__data__.set(t,n),this},mt.prototype.has=function(t){return this.__data__.has(t)},jt.prototype.clear=function(){this.__data__=new _t,this.size=0},jt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},jt.prototype.get=function(t){return this.__data__.get(t)},jt.prototype.has=function(t){return this.__data__.has(t)},jt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof _t){var r=n.__data__;if(!it||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new gt(r)}return n.set(t,e),this.size=n.size,this};var Bt=et?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}(et(t),(function(e){return Y.call(t,e)})))}:function(){return[]},Tt=Pt;function Rt(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||O.test(t))&&t>-1&&t%1==0&&t<e}function Ft(t){if(null!=t){try{return G.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ut(t,e){return t===e||t!=t&&e!=e}(ot&&Tt(new ot(new ArrayBuffer(1)))!=j||it&&Tt(new it)!=l||ut&&Tt(ut.resolve())!=d||at&&Tt(new at)!=v||ct&&Tt(new ct)!=g)&&(Tt=function(t){var e=Pt(t),n=e==h?t.constructor:void 0,r=n?Ft(n):"";if(r)switch(r){case st:return j;case lt:return l;case pt:return d;case ht:return v;case dt:return g}return e});var It=At(function(){return arguments}())?At:function(t){return Gt(t)&&N.call(t,"callee")&&!Y.call(t,"callee")},Lt=Array.isArray;var $t=nt||function(){return!1};function Dt(t){if(!qt(t))return!1;var e=Pt(t);return e==s||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Wt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}function qt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Gt(t){return null!=t&&"object"==typeof t}var Nt=B?function(t){return function(e){return t(e)}}(B):function(t){return Gt(t)&&Wt(t.length)&&!!P[Pt(t)]};function Vt(t){return null!=(e=t)&&Wt(e.length)&&!Dt(e)?wt(t):St(t);var e}t.exports=function(t,e){return zt(t,e)}}));Object.defineProperty(t,"WeappMiniComponent",{enumerable:!0,get:function(){return e.MiniComponent}}),Object.defineProperty(t,"WeappPageBase",{enumerable:!0,get:function(){return e.PageBase}}),Object.defineProperty(t,"AliMiniComponent",{enumerable:!0,get:function(){return n.MiniComponent}}),Object.defineProperty(t,"AliappPageBase",{enumerable:!0,get:function(){return n.MiniPage}}),Object.defineProperty(t,"MiniComponent",{enumerable:!0,get:function(){return n.MiniComponent}}),Object.defineProperty(t,"PageBase",{enumerable:!0,get:function(){return n.MiniPage}}),Object.defineProperty(t,"lifetimes",{enumerable:!0,get:function(){return n.lifetimes}}),Object.defineProperty(t,"method",{enumerable:!0,get:function(){return n.method}}),Object.defineProperty(t,"pageLifetime",{enumerable:!0,get:function(){return n.pageLifetime}}),t.ComponentBase=c,t.observer=function(t){return function(e,n,r){var o=r.value,c=t||n;if(!e._propsSubscribeMap){e._propsSubscribeMap={};var f=e.didMount;e.didMount=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i(this,void 0,void 0,(function(){var n,r,o=this;return u(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),n=e._propsSubscribeMap||{},Object.keys(n).forEach((function(t){var e,r=null==t?void 0:t.split(",").map((function(t){return t.trim()})),i=r.map((function(t){var e,n,r;return{value:null!==(n=null===(e=o.props)||void 0===e?void 0:e[t])&&void 0!==n?n:null===(r=o.data)||void 0===r?void 0:r[t],changed:!1}}));null===(e=n[t])||void 0===e||e.forEach((function(t){"function"==typeof t&&t.call.apply(t,a([o],i.map((function(t){return t.value})),!1))}))})),"function"!=typeof f?[3,2]:[4,f.call.apply(f,a([this],t,!1))];case 1:return[2,i.sent()];case 2:return[3,4];case 3:throw r=i.sent(),console.error(r),r;case 4:return[2]}}))}))};var l=e.didUpdate;e.didUpdate=function(t,n){return i(this,void 0,void 0,(function(){var r,o,i=this;return u(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),r=e._propsSubscribeMap||{},Object.keys(r).forEach((function(e){var o,u=null==e?void 0:e.split(",").map((function(t){return t.trim()})),c=u.map((function(e){var r,o,u,a,c;return{value:null!==(o=null===(r=i.props)||void 0===r?void 0:r[e])&&void 0!==o?o:null===(u=i.data)||void 0===u?void 0:u[e],changed:!s(null==t?void 0:t[e],null===(a=i.props)||void 0===a?void 0:a[e])||!s(null==n?void 0:n[e],null===(c=i.data)||void 0===c?void 0:c[e])}}));c.every((function(t){return!t.changed}))||null===(o=r[e])||void 0===o||o.forEach((function(t){"function"==typeof t&&t.call.apply(t,a([i],c.map((function(t){return t.value})),!1))}))})),"function"!=typeof l?[3,2]:[4,l.call(this,t,n)];case 1:return[2,u.sent()];case 2:return[3,4];case 3:throw o=u.sent(),console.error(o),o;case 4:return[2]}}))}))}}e._propsSubscribeMap[c]||(e._propsSubscribeMap[c]=[]),e._propsSubscribeMap[c].push(o)}},Object.defineProperty(t,"__esModule",{value:!0})}));//# sourceMappingURL=mini-program-base.aliapp.js.map
